var SSIE;(()=>{"use strict";var t={913:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.constants=e.stateInitial=void 0;const a=149597870.691;e.stateInitial={JTepoch:2440400.5,deltaT:0,pointMasses:[{name:"Sun",mu:.0002959122082855911,r:[.004502510267338,.00076707537577,.000266057691688],v:[-3.5174580914658e-7,51776285849263e-19,222910271134566e-20]},{name:"Mercury",mu:4912500194824559e-26,r:[.361762718034225,-.090781972621708,-.085714974035992],v:[.003367493963235,.024894520558457,.012946300394857]},{name:"Venus",mu:7.243452332680141e-10,r:[.612751942019959,-.348365370464534,-.195278287180387],v:[.010952068440445,.015617684258434,.006331105708522]},{name:"Earth",mu:8.887692446750799e-10,r:[.120527235324218,-.925814239715091,-.401527016250346],v:[.016803964781901,.001750343790512,.000759242530584]},{name:"Moon",mu:1093189462305851e-26,r:[.119719057983365,-.92780886970539,-.402614278932212],v:[.017405049598487,.001582898323347,.000673680390844]},{name:"Mars",mu:9549548829827684e-26,r:[-.110186075103234,-1.3275994509038,-.605889141362437],v:[.014481653062556,.000242463081796,-.000281520722303]},{name:"Jupiter",mu:2.825345825239843e-7,r:[-5.379706767375737,-.830481311638832,-.224829061010041],v:[.00109201265824,-.006518116477461,-.00282078303183]},{name:"Saturn",mu:8.45970599341836e-8,r:[7.894390671857393,4.596478065058391,1.558695851205089],v:[-.003217556521666,.004335810340742,.001928646314749]},{name:"Uranus",mu:1.292026564974666e-8,r:[-18.2654035453251,-1.161956689138341,-.250105437331929],v:[.000221190755635,-.00376247477209,-.001651014943529]},{name:"Neptune",mu:1.524357347892686e-8,r:[-16.0550375057902,-23.942192276077712,-9.400157386764722],v:[.002642770077387,-.001498312385224,-.000679041984533]},{name:"Pluto",mu:2175096464904175e-27,r:[-30.48331297016226,-.872409037876984,8.911571443040605],v:[.000322207385086,-.003143576124413,-.001077949572518]}],libration:{phi:.005128132058714363,phi1:.0001165507165777481,theta:.3823932005230066,theta1:146191282385817e-19,psi:1.294168056057082,psi1:.2298367282420818}},e.constants={au:a,c:173.14463272053635,c2:Math.pow(173.14463272053635,2),k:.01720209895,aMoon:1738/a,aEarth:6378.1363/a,inertiaMoon:{A:52699461151199764e-27,B:5271148538989411e-26,C:5273275829933041e-26,betaL:.00063168677346798,gammaL:.0002280221835939711},phase:.040700012,love:.29,Je:[.00108262545,-253241e-11,-1616e-9],Jm:[.0002032156846495257,8459702697459457e-21,-970441383657e-17,7.422160838405289e-7,-137675313509699e-19],CSnm:[[2,2,2230351309e-14,0],[3,1,2848074119559286e-20,5891555155531864e-21],[3,2,484494206197706e-20,168447439627839e-20],[3,3,1675617813411457e-21,-2.474271437980576e-7],[4,1,-5704869731973321e-21,1578920278924572e-21],[4,2,-1591227179297743e-21,-1515391579673172e-21],[4,3,-8.067888159677821e-8,-8.034926662743107e-7],[4,4,-1.269215861221604e-7,8.296425775407522e-8]]}},646:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Figure=void 0;const s=a(551),r=a(923),n=a(423);e.Figure=class{static accBody(t,e,a,o,i){const c=r.MathUtils.norm(t),h=t[2]/r.MathUtils.norm(t),M=Math.asin(h),u=Math.atan2(t[1],t[0]),l=Math.cos(M),p=o.length,d=i.length;let m=[0,0,0],w=[0,0,0],v=[0,0,0];for(let t=0;t<p;t++){const a=t+2,s=n.Polynomials.legendreValue(a,h),i=n.Polynomials.legendreDeriv(a,h);m=r.MathUtils.linComb([1,o[t]*Math.pow(e/c,a)],[m,[(a+1)*s,0,-l*i]])}m=r.MathUtils.vecMul(m,-a/(c*c));for(let t=0;t<d;t++){const a=i[t][0],s=i[t][1],o=i[t][2],M=i[t][3],p=Math.cos(s*u),d=Math.sin(s*u),m=Math.pow(-1,s)*n.Polynomials.legendreAssoc(a,s,h),v=Math.pow(-1,s)*n.Polynomials.legendreAssocd(a,s,h);w=r.MathUtils.linComb([1,Math.pow(e/c,a)],[w,[-(a+1)*m*(o*p+M*d),s/l*m*(-o*d+M*p),l*v*(o*p+M*d)]])}return w=r.MathUtils.vecMul(w,-a/(c*c)),v=r.MathUtils.linComb([1,1],[m,w]),s.Rotations.rotateCart3(s.Rotations.rotateCart2(v,M),-u)}}},496:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Libration=void 0;const s=a(913);e.Libration=class{static librationMoon(t,e){const a=s.constants.inertiaMoon,{phi:r,theta:n,psi:o,phi1:i,theta1:c,psi1:h}=t,M=i*Math.sin(n)*Math.sin(o)+c*Math.cos(o),u=i*Math.sin(n)*Math.cos(o)-c*Math.sin(o),l=i*Math.cos(n)+h,p=u*l*(a.gammaL-a.betaL)/(1-a.betaL*a.gammaL)+e[0]/a.A,d=l*M*a.betaL+e[1]/a.B,m=-M*u*a.gammaL+e[2]/a.C,w=(p*Math.sin(o)+d*Math.cos(o)+c*(h-i*Math.cos(n)))/Math.sin(n);return{phi2:w,theta2:p*Math.cos(o)-d*Math.sin(o)-i*h*Math.sin(n),psi2:m-w*Math.cos(n)+i*c*Math.sin(n)}}}},923:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MathUtils=void 0,e.MathUtils=class{static deg2Rad(t){return 2*Math.PI*t/360}static rad2Deg(t){return 180*t/Math.PI}static sind(t){return Math.sin(t*Math.PI/180)}static cosd(t){return Math.cos(t*Math.PI/180)}static tand(t){return Math.tan(this.deg2Rad(t))}static asind(t){return this.rad2Deg(Math.asin(t))}static acosd(t){return this.rad2Deg(Math.acos(t))}static atand(t){return this.rad2Deg(Math.atan(t))}static atan2d(t,e){return this.rad2Deg(Math.atan2(t,e))}static cross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}static norm(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}static vecSum(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]}static linComb(t,e){const a=e[0].length;let s=new Array(a).fill(0);for(let r=0;r<t.length;r++){const n=e[r];for(let e=0;e<a;e++)s[e]+=t[r]*n[e]}return s}static vecDiff(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]}static vecMul(t,e){return[t[0]*e,t[1]*e,t[2]*e]}}},954:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PointMass=void 0;const s=a(923),r=a(913);e.PointMass=class{static barycenter(t,e){const a=t.length,n=r.constants.c2,o=[];let i=0;for(let r=0;r<a;r++){const c=t[r];if(e){let e=Math.pow(s.MathUtils.norm(c.v),2);for(let n=0;n<a;n++){if(n==r)continue;const a=t[n];e-=a.mu/s.MathUtils.norm(s.MathUtils.vecDiff(c.r,a.r))}e=1-.5*e/n,o.push(c.mu*e)}else o.push(c.mu);i+=o[o.length-1]}let c=[0,0,0],h=[0,0,0];for(let e=0;e<a;e++){const a=t[e];c=s.MathUtils.linComb([1,o[e]],[c,a.r]),h=s.MathUtils.linComb([1,o[e]],[h,a.v])}return c=s.MathUtils.vecMul(c,1/i),h=s.MathUtils.vecMul(h,1/i),{r:c,v:h}}static accPointMass(t,e){const a=t.length,n=r.constants.c2,o=[],i=[];for(let e=0;e<a;e++){const r=t[e],n=[],c=[];for(let e=0;e<a;e++){const a=t[e],o=s.MathUtils.norm(s.MathUtils.vecDiff(r.r,a.r));n.push(o),c.push(Math.pow(o,3))}o.push(n),i.push(c)}const c=[],h=[],M=[];for(let e=0;e<a;e++){const r=t[e];let n=[0,0,0];for(let o=0;o<a;o++){if(o==e)continue;const a=t[o],c=s.MathUtils.vecDiff(a.r,r.r),h=s.MathUtils.vecMul(c,a.mu/i[o][e]);n=s.MathUtils.vecSum(n,h)}c.push(n)}if(!e)return c;for(let r=0;r<a;r++){const M=t[r];let u=[0,0,0];if(e){for(let e=0;e<a;e++){if(e==r)continue;const h=t[e],l=s.MathUtils.vecDiff(h.r,M.r),p=s.MathUtils.vecDiff(h.v,M.v),d=s.MathUtils.vecMul(l,h.mu/i[e][r]);let m=0;for(let s=0;s<a;s++){const a=t[s];r!=s&&(m-=4*a.mu/o[r][s]),e!=s&&(m-=a.mu/o[e][s])}const w=o[e][r],v=i[e][r];m+=Math.pow(s.MathUtils.norm(M.v),2)+2*Math.pow(s.MathUtils.norm(h.v),2)-4*s.MathUtils.dot(M.v,h.v)-1.5*Math.pow(s.MathUtils.dot(l,h.v)/w,2)+.5*s.MathUtils.dot(l,c[e]),u=s.MathUtils.linComb([1,m/n,h.mu/n/v*s.MathUtils.dot(l,s.MathUtils.linComb([4,-3],[M.v,h.v])),3.5/n*h.mu/w],[u,d,p,c[e]])}h.push(u)}}for(let t=0;t<a;t++)M.push(s.MathUtils.vecSum(c[t],h[t]));return M}}},423:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Polynomials=void 0,e.Polynomials=class{static legendreAssoc(t,e,a){switch(t){case 1:switch(e){case 0:return a;case 1:return-Math.sqrt(1-Math.pow(a,2))}case 2:switch(e){case 0:return.5*(3*Math.pow(a,2)-1);case 1:return-3*a*Math.sqrt(1-Math.pow(a,2));case 2:return 3*(1-Math.pow(a,2))}case 3:switch(e){case 0:return.5*(5*Math.pow(a,3)-3*a);case 1:return 1.5*(1-5*Math.pow(a,2))*Math.sqrt(1-Math.pow(a,2));case 2:return 15*a*(1-Math.pow(a,2));case 3:return-15*Math.pow(1-Math.pow(a,2),1.5)}case 4:switch(e){case 0:return.125*(35*Math.pow(a,4)-30*Math.pow(a,2)+3);case 1:return-2.5*(7*Math.pow(a,3)-3*a)*Math.sqrt(1-Math.pow(a,2));case 2:return 7.5*(7*Math.pow(a,2)-1)*(1-Math.pow(a,2));case 3:return-105*a*Math.pow(1-Math.pow(a,2),1.5);case 4:return 105*Math.pow(1-Math.pow(a,2),2)}}return 0}static legendreAssocd(t,e,a){switch(t){case 1:switch(e){case 0:return 1;case 1:return a/Math.sqrt(1-Math.pow(a,2))}case 2:switch(e){case 0:return 3*a;case 1:return-3*Math.sqrt(1-Math.pow(a,2))+3*Math.pow(a,2)/Math.sqrt(1-Math.pow(a,2));case 2:return-6*a}case 3:switch(e){case 0:return 7.5*Math.pow(a,2)-1.5;case 1:return(7.5*Math.pow(a,2)-1.5)*a/Math.sqrt(1-Math.pow(a,2))-15*a*Math.sqrt(1-Math.pow(a,2));case 2:return 15-45*Math.pow(a,2);case 3:return 45*a*Math.sqrt(1-Math.pow(a,2))}case 4:switch(e){case 0:return 17.5*Math.pow(a,3)-7.5*a;case 1:return(17.5*Math.pow(a,4)-7.5*Math.pow(a,2))/Math.sqrt(1-Math.pow(a,2))-(52.5*a*a-7.5)*Math.sqrt(1-a*a);case 2:return 120*a-210*Math.pow(a,3);case 3:return-105*Math.pow(1-Math.pow(a,2),1.5)+315*Math.pow(a,2)*Math.sqrt(1-Math.pow(a,2));case 4:return-420*(a-Math.pow(a,3))}}return 0}static legendreDeriv(t,e){switch(t){case 0:return 0;case 1:return 1;case 2:return 3*e;case 3:return 7.5*Math.pow(e,2)-1.5;case 4:return 17.5*Math.pow(e,3)-7.5*e;case 5:return 39.375*Math.pow(e,4)-26.25*Math.pow(e,2)+1.875;case 6:return 86.625*Math.pow(e,5)-78.75*Math.pow(e,3)+13.125*e}return 0}static legendreValue(t,e){switch(t){case 0:return 1;case 1:return e;case 2:return.5*(3*Math.pow(e,2)-1);case 3:return.5*(5*Math.pow(e,3)-3*e);case 4:return.125*(35*Math.pow(e,4)-30*Math.pow(e,2)+3);case 5:return.125*(63*Math.pow(e,5)-70*Math.pow(e,3)+15*e);case 6:return.0625*(231*Math.pow(e,6)-315*Math.pow(e,4)+105*Math.pow(e,2)-5)}return 0}}},551:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Rotations=void 0;const s=a(923);e.Rotations=class{static rotateCart1d(t,e){const a=s.MathUtils.cosd(e),r=s.MathUtils.sind(e);return[t[0],a*t[1]+r*t[2],-r*t[1]+a*t[2]]}static rotateCart2d(t,e){const a=s.MathUtils.cosd(e),r=s.MathUtils.sind(e);return[a*t[0]-r*t[2],t[1],r*t[0]+a*t[2]]}static rotateCart3d(t,e){const a=s.MathUtils.cosd(e),r=s.MathUtils.sind(e);return[a*t[0]+r*t[1],-r*t[0]+a*t[1],t[2]]}static rotateCart1(t,e){return[t[0],Math.cos(e)*t[1]+Math.sin(e)*t[2],-Math.sin(e)*t[1]+Math.cos(e)*t[2]]}static rotateCart2(t,e){return[Math.cos(e)*t[0]-Math.sin(e)*t[2],t[1],Math.sin(e)*t[0]+Math.cos(e)*t[2]]}static rotateCart3(t,e){return[Math.cos(e)*t[0]+Math.sin(e)*t[1],-Math.sin(e)*t[0]+Math.cos(e)*t[1],t[2]]}}},225:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Tides=void 0;const s=a(923),r=a(913);e.Tides=class{static accTides(t,e,a){const n=s.MathUtils.norm(t),o=s.MathUtils.vecMul([t[0]+r.constants.phase*t[1],t[1]-r.constants.phase*t[0],t[2]],-3*r.constants.love*a*(1+a/e)*(Math.pow(r.constants.aEarth,5)/Math.pow(n,8)));return{accMeTodTides:o,accEmTodTides:s.MathUtils.vecMul(o,-a/e)}}}}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,a),n.exports}var s={};(()=>{var t=s;Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.stateInitial=t.Figure=t.Tides=t.PointMass=t.Libration=t.Polynomials=t.Rotations=t.MathUtils=void 0;const e=a(923);Object.defineProperty(t,"MathUtils",{enumerable:!0,get:function(){return e.MathUtils}});const r=a(551);Object.defineProperty(t,"Rotations",{enumerable:!0,get:function(){return r.Rotations}});const n=a(423);Object.defineProperty(t,"Polynomials",{enumerable:!0,get:function(){return n.Polynomials}});const o=a(496);Object.defineProperty(t,"Libration",{enumerable:!0,get:function(){return o.Libration}});const i=a(225);Object.defineProperty(t,"Tides",{enumerable:!0,get:function(){return i.Tides}});const c=a(954);Object.defineProperty(t,"PointMass",{enumerable:!0,get:function(){return c.PointMass}});const h=a(646);Object.defineProperty(t,"Figure",{enumerable:!0,get:function(){return h.Figure}});const M=a(913);Object.defineProperty(t,"stateInitial",{enumerable:!0,get:function(){return M.stateInitial}}),Object.defineProperty(t,"constants",{enumerable:!0,get:function(){return M.constants}})})(),SSIE=s})();